---

# SSSD packages
sssd_pkgs:
  - sssd
  - sssd-ad
  - sssd-client
  - sssd-common
  - sssd-dbus
  - sssd-ipa
  - sssd-krb5
  - sssd-krb5-common
  - sssd-ldap
  - sssd-proxy
  - sssd-tools

# SSSD build dependency packages
sssd_build_dependency_pkgs:
  - git
  - libcmocka-devel
  - libldb-devel
  - libpamtest-devel
  - make
  - nss_wrapper
  - python34
  - python34-devel
  - rpm-build
  - uid_wrapper
  - yum-utils

# Delete files
sssd_files_to_remove:
  - /usr/lib64/ldb/modules/ldb/memberof.la

# Directories
sssd_dirs:
  "{{ sssd_install_dir }}/build":
    group: root
    mode: !!str 0755
    owner: root
  "{{ sssd_install_dir }}/download":
    group: root
    mode: !!str 0755
    owner: root
  "{{ sssd_install_dir }}/tmp":
    group: root
    mode: !!str 0755
    owner: root
  '/etc/sssd':
    group: "{{ sssd_group }}"
    mode: !!str 0700
    owner: "{{ sssd_user }}"
  '/var/log/sssd':
    group: "{{ sssd_group }}"
    mode: !!str 0700
    owner: "{{ sssd_user }}"

# Install architecture-dependent files in EPREFIX
sssd_exec_prefix: /usr/local

# SSSD default build options
sssd_default_build_options:
  - "--disable-rpath"
  - "--disable-static"
  - "--enable-nfsidmaplibdir=/usr/lib64/libnfsidmap"
  - "--enable-nsslibdir=/usr/lib64"
  - "--enable-pammoddir=/usr/lib64/security"
  - "--enable-sss-default-nss-plugin"
  - "--enable-systemtap"
  - "--with-ad-gpo-default=permissive"
  - "--with-db-path=/var/lib/sss/db"
  - "--with-gpo-cache-path=/var/lib/sss/gpo_cache"
  - "--with-init-dir=/etc/init.d"
  - "--with-initscript=systemd"
  - "--with-kcm"
  - "--with-krb5-rcache-dir=/var/cache/krb5rcache"
  - "--with-log-path=/var/log/sssd"
  - "--with-mcache-path=/var/lib/sss/mc"
  - "--with-pid-path=/var/run"
  - "--with-pipe-path=/var/lib/sss/pipes"
  - "--with-pubconf-path=/var/lib/sss/pubconf"
  - "--with-sssd-user={{ sssd_user }}"
  - "--with-syslog=journald"
  - "--with-test-dir=/dev/shm"
  - "--without-python3-bindings"
